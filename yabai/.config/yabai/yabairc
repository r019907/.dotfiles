#!/usr/bin/env bash

#yabai -m signal --add event=dock_did_restart action="sudo yabai --load-sa"
#sudo yabai --load-sa

DISPLAY_COUNT=$(yabai -m query --displays | jq length)
if [ $DISPLAY_COUNT -eq 2 ]; then
    yabai -m config layout float
    yabai -m config split_ratio 0.355
    yabai -m space 1 --layout bsp
    yabai -m space 2 --layout stack

    yabai -m space 2 --padding abs:0:0:0:0

elif [ $DISPLAY_COUNT -eq 1 ]; then
    yabai -m config layout stack
else
    yabai -m config layout bsp
    yabai -m space 2 --layout stack
fi

